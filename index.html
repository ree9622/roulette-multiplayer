<!DOCTYPE html><html lang=en><script type=importmap>{"imports":{"2rDQN":"/roulette-multiplayer/Box2D.simd.dd31b167.wasm","8BShk":"/roulette-multiplayer/Box2D.simd.2fa02903.js","9DwmV":"/roulette-multiplayer/kkwak.673a610d.png","cdgIR":"/roulette-multiplayer/chamru.d6926a56.png","fkRhi":"/roulette-multiplayer/junyoop.d27f0cbf.png","h7cmx":"/roulette-multiplayer/Box2D.b9b16b27.wasm","ilUZb":"/roulette-multiplayer/Box2D.a11658c7.js","juMvj":"/roulette-multiplayer/ff.e34a5107.svg","lfSvD":"/roulette-multiplayer/kubin.f3647b70.png"}}</script><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><script async src="https://www.googletagmanager.com/gtag/js?id=G-5899C1DJM0"></script><title>Marble Roulette</title><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=apple-touch-icon sizes=57x57 href=/roulette-multiplayer/apple-icon-57x57.5ecd1650.png><link rel=apple-touch-icon sizes=60x60 href=/roulette-multiplayer/apple-icon-60x60.b46a75af.png><link rel=apple-touch-icon sizes=72x72 href=/roulette-multiplayer/apple-icon-72x72.4726ed35.png><link rel=apple-touch-icon sizes=76x76 href=/roulette-multiplayer/apple-icon-76x76.72dbc1e1.png><link rel=apple-touch-icon sizes=114x114 href=/roulette-multiplayer/apple-icon-114x114.6cefcd75.png><link rel=apple-touch-icon sizes=120x120 href=/roulette-multiplayer/apple-icon-120x120.462d8e84.png><link rel=apple-touch-icon sizes=144x144 href=/roulette-multiplayer/apple-icon-144x144.36ef70f8.png><link rel=apple-touch-icon sizes=152x152 href=/roulette-multiplayer/apple-icon-152x152.1f1d2b56.png><link rel=apple-touch-icon sizes=180x180 href=/roulette-multiplayer/apple-icon-180x180.33666671.png><link rel=icon type=image/png sizes=192x192 href=/roulette-multiplayer/android-icon-192x192.6c0734fc.png><link rel=icon type=image/png sizes=32x32 href=/roulette-multiplayer/favicon-32x32.b3414860.png><link rel=icon type=image/png sizes=96x96 href=/roulette-multiplayer/favicon-96x96.b086bd80.png><link rel=icon type=image/png sizes=16x16 href=/roulette-multiplayer/favicon-16x16.b88a3ef4.png><link rel=manifest href=/roulette-multiplayer/assets/manifest.webmanifest><meta name=msapplication-TileColor content=#ffffff><meta name=msapplication-TileImage content=/roulette-multiplayer/ms-icon-144x144.e402ee4a.png><meta name=theme-color content=#ffffff><meta name=description content="A lucky draw by dropping marbles, made by lazygyu"><meta property=og:url content=https://lazygyu.github.io/roulette/><meta property=og:title content="Marble Roulette"><meta property=og:description content="A lucky draw by dropping marbles, made by lazygyu"><meta property=og:site_name content=lazygyu.github.io><meta property=og:type content=website><link rel=stylesheet href=/roulette-multiplayer/roulette.88dfa79e.css><body>
<script type=module src=/roulette-multiplayer/roulette.0853e8ae.js></script>
<script>function gtag(){dataLayer.push(arguments)}function getNames(){return document.querySelector("#in_names").value.trim().split(/[,\r\n]/g).map(e=>e.trim()).filter(e=>!!e)}function parseName(e){let t=/(\/\d+)/,n=/(\*\d+)/,i=t.test(e),o=n.test(e),a=/^\s*([^\/*]+)?/.exec(e)[1];return{name:a,weight:i?parseInt(t.exec(e)[1].replace("/","")):1,count:o?parseInt(n.exec(e)[1].replace("*","")):1}}function getReady(){let e=getNames();switch(window.roulette.setMarbles(e),ready=e.length>0,localStorage.setItem("mbr_names",e.join(",")),winnerType){case"first":setWinnerRank(1);break;case"last":setWinnerRank(window.roulette.getCount())}}function setWinnerRank(e){document.querySelector("#in_winningRank").value=e,window.options.winningRank=e-1,window.roulette.setWinningRank(window.options.winningRank),"first"===winnerType?(document.querySelector(".btn-first-winner").classList.toggle("active",!0),document.querySelector(".btn-last-winner").classList.toggle("active",!1),document.querySelector("#in_winningRank").classList.toggle("active",!1)):"last"===winnerType?(document.querySelector(".btn-first-winner").classList.toggle("active",!1),document.querySelector(".btn-last-winner").classList.toggle("active",!0),document.querySelector("#in_winningRank").classList.toggle("active",!1)):"custom"===winnerType&&(document.querySelector(".btn-first-winner").classList.toggle("active",!1),document.querySelector(".btn-last-winner").classList.toggle("active",!1),document.querySelector("#in_winningRank").classList.toggle("active",!0))}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-5899C1DJM0");let ready=!1,winnerType="first";function initialize(){if(!window.roulette||!window.roulette.isReady){console.log("does not loaded yet"),setTimeout(initialize,100);return}console.log("initializing start");let e=localStorage.getItem("mbr_names");e&&(document.querySelector("#in_names").value=e),document.querySelector("#in_names").addEventListener("input",()=>{getReady()}),document.querySelector("#in_names").addEventListener("blur",()=>{let e=getNames(),t=new Set,n={};e.forEach(e=>{let i=parseName(e),o=i.weight>1?`${i.name}/${i.weight}`:i.name;t.has(o)||(t.add(o),n[o]=0),n[o]+=i.count});let i=[];Object.keys(n).forEach(e=>{n[e]>1?i.push(`${e}*${n[e]}`):i.push(e)});let o=document.querySelector("#in_names").value,a=i.join(",");o!==a&&(document.querySelector("#in_names").value=a,getReady())}),document.querySelector("#btnShuffle").addEventListener("click",()=>{getReady()});let t=!1;setInterval(()=>{if(window.multiplayerUI&&window.multiplayerUI.getRoomManager().getRoomId()){let e=window.multiplayerUI.getRoomManager(),n=window.multiplayerUI.getGameSync();if(e.getIsHost()){let e=window.roulette.getFastForwarder().getEnabled();e!==t&&(t=e,n.setFastForward(e))}}},100),document.querySelector("#btnStart").addEventListener("click",()=>{if(ready){if(gtag&&gtag("event","start",{event_category:"roulette",event_label:"start",value:window.roulette.getCount()}),window.multiplayerUI&&window.multiplayerUI.getRoomManager().getRoomId()){let e=window.multiplayerUI.getRoomManager(),t=window.multiplayerUI.getGameSync();if(!e.getIsHost())return void alert("í˜¸ìŠ¤íŠ¸ë§Œ ê²Œì„ì„ ì‹œì‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.");{if(!e.areAllPlayersReady())return void alert("ëª¨ë“  ì°¸ê°€ìê°€ ì¤€ë¹„ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.");let n=e.getPlayers().map(e=>e.name),i=parseInt(document.querySelector("#sltMap").value),o=window.options.winningRank;return console.log("[MultiplayerMode] ê²Œì„ ì‹œì‘:",n,i,o),void t.startGame(n,i,o)}}window.roulette.start(),document.querySelector("#settings").classList.add("hide")}}),document.querySelector("#chkAutoRecording").addEventListener("change",e=>{window.options.autoRecording=e.target.matches(":checked"),window.roulette.setAutoRecording(window.options.autoRecording)}),document.querySelector("#chkSkill").addEventListener("change",e=>{window.options.useSkills=e.target.matches(":checked"),window.roulette.setWinningRank(window.options.winningRank)}),document.querySelector("#in_winningRank").addEventListener("change",e=>{let t=parseInt(e.target.value,10);winnerType="custom",setWinnerRank(isNaN(t)?0:t)}),document.querySelector(".btn-last-winner").addEventListener("click",()=>{let e=window.roulette.getCount();winnerType="last",setWinnerRank(e)}),document.querySelector(".btn-first-winner").addEventListener("click",()=>{winnerType="first",setWinnerRank(1)}),document.querySelector("#btnShake").addEventListener("click",()=>{window.roulette.shake(),gtag("event","shake",{event_category:"roulette",event_label:"shake",value:1})}),window.roulette.addEventListener("goal",e=>{if(window.multiplayerUI&&window.multiplayerUI.getRoomManager().getRoomId()){let t=window.multiplayerUI.getRoomManager(),n=window.multiplayerUI.getGameSync(),i=e.detail.fromHost||!1;if(t.getIsHost()){let i=e.detail.winner,o=t.getPlayers().map(e=>e.name);console.log("[Multiplayer] í˜¸ìŠ¤íŠ¸ê°€ ê²Œì„ ì¢…ë£Œ ë¸Œë¡œë“œìºìŠ¤íŠ¸:",i),n.endGame([i],o),ready=!1,setTimeout(()=>{document.querySelector("#settings").classList.remove("hide")},3e3)}else{if(!i)return void console.log("[Multiplayer] ì°¸ê°€ì - ìì²´ ê²°ê³¼ ë¬´ì‹œ (í˜¸ìŠ¤íŠ¸ ê²°ê³¼ ëŒ€ê¸° ì¤‘)");console.log("[Multiplayer] ì°¸ê°€ì - í˜¸ìŠ¤íŠ¸ ê²°ê³¼ ìˆ˜ì‹ :",e.detail.winner),ready=!1,setTimeout(()=>{document.querySelector("#settings").classList.remove("hide")},3e3)}}else ready=!1,setTimeout(()=>{document.querySelector("#settings").classList.remove("hide")},3e3)}),window.roulette.addEventListener("shakeAvailableChanged",e=>{document.querySelector("#inGame").classList.toggle("hide",!e.detail)}),window.roulette.addEventListener("message",e=>{var t=e.detail;let n=document.createElement("div");n.classList.add("toast"),n.innerHTML=t,window.translateElement&&(console.log("try to translate"),window.translateElement(n)),document.body.appendChild(n),setTimeout(()=>{document.body.removeChild(n)},1200)}),document.querySelector("#btnShuffle").click();let n=window.roulette.getMaps(),i=document.querySelector("#sltMap");n.forEach(e=>{let t=document.createElement("option");t.value=e.index,t.innerHTML=e.title,t.setAttribute("data-trans",""),window.translateElement(t),i.append(t)}),i.addEventListener("change",e=>{let t=e.target.value;window.roulette.setMap(t)})}document.addEventListener("DOMContentLoaded",()=>{initialize()});</script>
<div id=settings class=settings>
  <div class=right>
    <div class=row>
      <label>
        <i class="icon map"></i>
        <span data-trans>Map</span>
      </label>
      <select id=sltMap></select>
    </div>
    <div class=row>
      <label>
        <i class="icon record"></i>
        <span data-trans>Recording</span>
      </label>
      <input type=checkbox id=chkAutoRecording>
    </div>
    <div class=row>
      <label>
        <i class="icon trophy"></i>
        <span data-trans>The winner is</span>
      </label>
      <div class=btn-group>
        <button class="active btn-first-winner btn-winner" data-trans>First</button>
        <button class="btn-last-winner btn-winner" data-trans>Last</button>
        <input type=number id=in_winningRank value=1 min=1>
      </div>
    </div>
    <div class=row>
      <label>
        <i class="bomb icon"></i>
        <span data-trans>Using skills</span>
      </label>
      <input type=checkbox id=chkSkill checked>
    </div>
  </div>
  <div class=left>
    <h3 data-trans>Enter names below</h3>
    <textarea id=in_names placeholder="Input names separated by commas or line feed here" data-trans=placeholder>ì§±êµ¬*5, ì§±ì•„*10, ë´‰ë¯¸ì„ *3</textarea>
    <div class=actions>
      <button id=mp-create-room-btn class=mp-btn>
        <span>ğŸ  ë°© ë§Œë“¤ê¸°</span>
      </button>
      <button id=mp-join-room-btn class=mp-btn>
        <span>ğŸšª ë°© ì°¸ê°€í•˜ê¸°</span>
      </button>
      <div class=sep></div>
      <button id=btnShuffle>
        <i class="icon shuffle"></i>
        <span data-trans>Shuffle</span>
      </button>
      <button id=btnStart>
        <i class="icon play"></i>
        <span data-trans>Start</span>
      </button>
    </div>
  </div>
</div>
<div id=inGame class="hide settings">
  <button id=btnShake data-trans>Shake!</button>
</div>

<div id=mp-modal class=mp-modal style=display:none>
  <div class=mp-modal-content>
    <h2 id=mp-modal-title></h2>
    <div id=mp-modal-content></div>
  </div>
</div>


<div id=mp-room-panel class=mp-room-panel style=display:none>
  <div class=mp-room-header>
    <h3>ğŸ® ë©€í‹°í”Œë ˆì´ì–´</h3>
    <div class=mp-room-code-container>
      <span>ë°© ì½”ë“œ:</span>
      <span id=mp-room-code-display class=mp-room-code></span>
      <button id=mp-copy-room-code class=mp-btn-copy>ğŸ“‹ ë³µì‚¬</button>
    </div>
  </div>
  <div class=mp-player-list-container>
    <h4>ì°¸ê°€ì ëª©ë¡</h4>
    <div id=mp-player-list class=mp-player-list></div>
  </div>
  <div class=mp-room-actions>
    <button id=mp-change-name-btn class=mp-btn-secondary style=display:inline-block>ì´ë¦„ ë³€ê²½</button>
    <button id=mp-ready-btn class=mp-btn-primary style=display:none>ì¤€ë¹„</button>
    <button id=mp-leave-room-btn class=mp-btn-secondary style=display:none>ë‚˜ê°€ê¸°</button>
  </div>
</div>
<div class=copyright>Â© 2022-2025.<a href=https://lazygyu.net target=_blank>lazygyu</a> <span data-trans>This program is freeware and may be used freely anywhere, including in broadcasts and videos.</span>
</div>


